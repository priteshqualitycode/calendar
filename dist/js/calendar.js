function M({view:e="dayGridMonth",locale:t="en",firstDay:n=1,dayMaxEvents:a=!1,eventContent:i=null,eventClickEnabled:l=!1,eventDragEnabled:s=!1,eventResizeEnabled:r=!1,noEventsClickEnabled:o=!1,dateClickEnabled:d=!1,dateSelectEnabled:v=!1,datesSetEnabled:u=!1,viewDidMountEnabled:c=!1,eventAllUpdatedEnabled:f=!1,hasDateClickContextMenu:w=null,hasDateSelectContextMenu:E=null,hasEventClickContextMenu:C=null,hasNoEventsClickContextMenu:h=null,resources:D=null,resourceLabelContent:S=null,theme:m=null,options:O={},eventAssetUrl:x}){return{init:function(){let e=this.mountCalendar();window.addEventListener("calendar--refresh",(()=>{e.refetchEvents()})),this.$wire.on("calendar--set",(t=>{e.setOption(t.key,t.value)}))},mountCalendar:function(){return EventCalendar.create(this.$el.querySelector("[data-calendar]"),this.getSettings())},getSettings:function(){let z={view:e,locale:t,firstDay:n,dayMaxEvents:a,eventSources:[{events:e=>this.$wire.getEventsJs({...e,tzOffset:-(new Date).getTimezoneOffset()})}],duration:{days:20},resources:D,selectable:v,eventStartEditable:s,eventDurationEditable:r,dayCellFormat:e=>e.getDate().toString()};return null!==i&&(z.eventContent=e=>{let t=e.event.extendedProps.model,n=i[t]??i._default;if(void 0!==n)return{html:n}}),null!==S&&(z.resourceLabelContent=e=>{let t=e.resource.extendedProps.model,n=S[t]??S._default;if(void 0!==n)return{html:this.wrapContent(n,e)}}),d&&(z.dateClick=e=>{let t={date:e.date,dateStr:e.dateStr,allDay:e.allDay,view:e.view,resource:e.resource,tzOffset:-(new Date).getTimezoneOffset()};w?this.openContextMenu(e.jsEvent,t,"dateClick"):this.$wire.onDateClickJs(t)}),v&&(z.select=e=>{let t={start:e.start,startStr:e.startStr,end:e.end,endStr:e.endStr,allDay:e.allDay,view:e.view,resource:e.resource,tzOffset:-(new Date).getTimezoneOffset()};E?this.openContextMenu(e.jsEvent,t,"dateSelect"):this.$wire.onDateSelectJs(t)}),u&&(z.datesSet=e=>{this.$wire.onDatesSetJs({start:e.start,startStr:e.startStr,end:e.end,endStr:e.endStr,view:e.view,tzOffset:-(new Date).getTimezoneOffset()})}),l&&(z.eventClick=e=>{Alpine.$data(e.el).onClick(e)}),z.eventResize=async e=>{let t=e.event.durationEditable,n=r;void 0!==t&&(n=t),n&&await this.$wire.onEventResizeJs({event:e.event,oldEvent:e.oldEvent,endDelta:e.endDelta,view:e.view,tzOffset:-(new Date).getTimezoneOffset()}).then((t=>{!1===t&&e.revert()}))},z.eventDrop=async e=>{let t=e.event.startEditable,n=s;void 0!==t&&(n=t),n&&await this.$wire.onEventDropJs({event:e.event,oldEvent:e.oldEvent,oldResource:e.oldResource,newResource:e.newResource,delta:e.delta,view:e.view,tzOffset:-(new Date).getTimezoneOffset()}).then((t=>{!1===t&&e.revert()}))},z.eventDidMount=e=>{e.el.setAttribute("x-load"),e.el.setAttribute("x-load-src",x),e.el.setAttribute("x-data",`calendarEvent({\n                    event: ${JSON.stringify(e.event)},\n                    timeText: "${e.timeText}",\n                    view: ${JSON.stringify(e.view)},\n                    hasContextMenu: ${C},\n                })`)},o&&(z.noEventsClick=e=>{let t={view:e.view,tzOffset:-(new Date).getTimezoneOffset()};h?this.openContextMenu(e.jsEvent,t,"noEventsClick"):this.$wire.onNoEventsClickJs(t)}),c&&(z.viewDidMount=e=>{this.$wire.onViewDidMountJs({view:e.view,tzOffset:-(new Date).getTimezoneOffset()})}),f&&(z.eventAllUpdated=e=>{this.$wire.onEventAllUpdatedJs({view:e.view,tzOffset:-(new Date).getTimezoneOffset()})}),m&&(z.theme=function(e){return{...e,...m}}),{...z,...O}},wrapContent:function(e,t){let n=document.createElement("div");return n.innerHTML=e,n.setAttribute("x-data",JSON.stringify(t)),n.classList.add("w-full"),n.outerHTML},openContextMenu:function(e,t,n){let a=document.querySelector("[calendar-context-menu]"),i=Alpine.$data(a);i.loadActions(n,t),i.openMenu(e)}}}export{M as default};